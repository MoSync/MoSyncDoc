<html>
<head>
<!-- <mosyncheadertags>
<meta name="description" content="The MoSync SDK has rich capabilities for building complete applications with HTML5, JavaScript, and CSS. You can access device services and Native UI from JavaScript. You can include resources like images, audio files and videos. You can even extend your app with code written in C/C++, if needed." />
<meta name="dcterms.description" content="The MoSync SDK has rich capabilities for building complete applications with HTML5, JavaScript, and CSS. You can access device services and Native UI from JavaScript. You can include resources like images, audio files and videos. You can even extend your app with code written in C/C++, if needed." />
<meta name="keywords" content="mobile development,sdk,android,windows mobile,moblin,j2me,symbian,meego,maemo,brew,iphone,c,c++,open source,porting,dev,application,ide,cross platform,programming,deployment,mosync" />
<title>HTML5 and JavaScript cross-platform mobile applications with the MoSync Mobile SDK | MoSync Guide/Tutorial</title>
</mosyncheadertags> -->
</head>
<body>
<h1>Developing Mobile Apps in HTML5 and JavaScript</h1>
<p>The MoSync SDK has rich capabilities for building complete applications with HTML5, JavaScript, and CSS. You can access device services and Native UI from JavaScript. You can include resources like images, audio files and videos. You can even extend your app with code written in C/C++, if needed. <!--break--></p>
<p></p>
<p>Want to get started quickly? Read the <a href="TEMPLATE_DOC_PATH/sdk/js/guides/quick-start/getting-started-html5-and-javascript/index.html">Getting Started with HTML5 and JavaScript</a> guide, then come back here for a deeper look at HTML5 and JavaScript in the MoSync SDK.</p>
<h2>MoSync support for HTML5 applications</h2>
<p>MoSync has a native widget system, and one of the widget types is the <strong>WebView </strong>widget. This means you can use web technologies to create your application, create a native application with HTML/CSS/JavaScript, and deploy it to the app stores as a standalone appliction. You can use established web standards and JavaScript libraries, such as <strong>jQuery</strong>, <strong>jQuery Mobile</strong>, and <strong>Sencha Touch</strong>. Furthermore, you can reuse your current web-based code when developing mobile apps.</p>
<p>You can code your entire application using HTML, CSS and JavaScript, or you can mix web technologies with C++, using MoSync C/C++ to access device functionality not available in HTML5. Depending on which langauges and libraries you wish to use, you can write all or most of the application logic in JavaScript, or you can write the application logic in C/C++ and use HTML and CSS for the user interface of the application.</p>
<h2>HTML5/JavaScript templates and example apps</h2>
<p>To get started quickly, <a href="TEMPLATE_DOC_PATH/sdk/js/guides/quick-start/getting-started-html5-and-javascript/index.html">create a new project from one of the HTML5 templates</a>. This will give you an HTML5 project which is ready to build and run. MoSync's HTML5 templates are small working applications that give you a starting point to modify and extend. Here is what the different templates do:</p>
<ul>
<li><strong>HTML5/JS WebUI Project</strong> - Gives you an app with the user interface in HTML/CSS, set up with libraries for accessing device functionality from JavaScript.</li>
<li><strong>HTML5/JS NativeUI Project</strong> - Gives you an app with a native user interface, written in HTML/JavaScript, set up with libraries for accessing device functionality from JavaScript.</li>
<li><strong>HTML5/JS/C++ Hybrid Project</strong> - This is like the HTML5/JS WebUI template app, but it is set up to show you how to extend your app with code written in C/C++.</li>
</ul>
<p>Another way to get started is to copy one of the HTML5 example applications and alter it. To copy a project is easy to do in Eclipse, just select the project you wish to copy in the Project Explorer, right click it and select <strong>copy</strong>. Then right click again and select <strong>paste</strong>.</p>
<h2>File system structure - drop your content in the LocalFiles folder</h2>
<p>When you have created an HTML5 project in Eclipse, you will see a folder called <em>/LocalFiles.</em> This is where you put your HTML, CSS, JavaScript, and resource/media files. <em>/LocalFiles</em> is the root of all your web content. This is typically where<strong> </strong><em>index.html</em> goes.</p>
<p>This is the file system layout you get when creating an HTML5 template project.&nbsp;</p>
<p><img src="images/EclipseHTML5LocalFiles.png" align="none" width="252" height="432"></p>
<p>The file <em>wormhole.js</em> contains the JavaScript libraries for accessing devices services and Native UI. This file is included in all template projects, so you can easily use Native UI from a Web UI project, if you should find out that you want to do that at some point. Note that wormhole.js consists of several JavaScript files concatenated together into one file.</p>
<p>The main HTML file and the starting point of the application is <em>index.html</em>. You can name this file anything you want, but if you change the name, also update the following line in <strong><em>main.cpp</em></strong> that opens the start page:</p>
<pre class="mosync-code-cpp">// This line is in main.cpp
showPage("index.html");</pre>
<p>The file styles.css contain the style sheed definitions for the app. You can replace index.html and use any style sheet and JavaScript files you wish, but if you want to access device services, you need to include wormhole.js into your <strong><em>index.html</em> </strong>file, and add the "deviceready" event listener in JavaScript:</p>
<pre class="mosync-code-cpp">// This line is in index.html
document.addEventListener("deviceready", displayDeviceInfo, true);</pre>
<p>Study the sample <em>index.html</em> generated by the template for further details.</p>
<h2>Resource handling</h2>
<p><strong>Put all your HTML5 resource files (images, audio files, videos, etc.) in the <em>/LocalFiles</em> folder</strong> (or in a subfolder <em>to /LocalFiles</em>.) In your HTML5, use <strong>relative paths</strong> to identify the resources that your application needs, <em>within</em> the <em>/LocalFiles</em> folder.</p>
<p>The <em>/Resources</em> folder contains the data files for the C/C++ layer. Generally, you do not to put anything in this folder unless you are working to develop a C/C++ layer for your app.</p>
<p>(During a normal build, there is a build step called "Bundle", which takes the folders and files in <em>/LocalFiles</em> and packages them into a single file called <em>LocalFiles.bin</em>. (<em>LocalFiles.bin</em> won't be created until you actually build the project, it isn't visible in the file list initally). In <em>/Resources</em>, there is a file called <em>Resources.lst</em>, which specifies which data to package with the application, and it includes <em>LocalFiles.bin</em>. At runtime, when the application is launched, the contents of <em>LocalFiles.bin</em> is unpacked and copied to the application's local file system on the device. To speed up application launching, the system computes a checksum of the content in <em>LocalFiles.bin</em>, and only copies the data if this checksum has changed. If you have very many files, the first application launch may take some time, but subsequent launches will be fast.)</p>
<p>The <em>/Resources</em> folder also contains a sound file, <em>beep.wav</em>, which is used to play the system "beep" sound.This file is referenced in <strong>main.cpp</strong>. You can replace this file with your own sound file, if you wish. (For more about C/C++ resource handling, see our <a href="TEMPLATE_DOC_PATH/sdk/tools/guides/ide/resource-compiler-reference/index.html">Resource Compiler Reference</a>.)</p>
<h2>main.cpp</h2>
<p>Finally, we have the file <em>main.cpp</em>, which contains the C++ code that that sets up the application and creates a WebView to display the HTML/CSS content and run JavaScript code. The basic class used in main.cpp is <strong>HybridMoblet</strong>, which we subclass and application specific code to. (In MoSync, a moblet is a class that <a href="TEMPLATE_DOC_PATH/sdk/cpp/guides/basic/event-driven-object-oriented-applications/index.html">handles events</a> in an application.) <strong>HybridMoblet</strong> is a moblet designed to be used for web applications. It has one <strong>WebView </strong>widget that is displayed full-screen.&nbsp; It is hidden if you wish to use Native UI widgets only, the JavaScript code then runs in the hidden WebView widget.</p>
<p>For most HTML5 applications, you don't need to touch anything in <strong>main.cpp</strong>.</p>
<h2>Wormhole topology - Calling C/C++ from JavaScript</h2>
<p>In physics, a <a href="http://en.wikipedia.org/wiki/Wormhole">wormhole</a> is a shortcut through spacetime. In MoSync space, a wormhole connects JavaScript and C/C++. If you want to provide functionality that invokes C++ code from JavaScript, you can edit <em>main.cpp</em> to add that functionality. This is what the <strong>HTML5/JS/C++ Hybrid Project</strong> template application shows you how to do. In this project, the beep and vibrate actions are implemented in custom C/C++ code, rather than being called using the Wormhole library rutines. The details of MoSync wormholes are explained in the guide <a href="TEMPLATE_DOC_PATH/sdk/js/guides/wormhole/extending-javascript-with-cpp/index.html">Communicating Between JavaScript and C++ in MoSync</a>.</p>
<h2>Hints for making a web-based user interface</h2>
<p>Making cross-platform web-based user interfaces has always ben considered a challenge, first on desktop browsers, and now on mobile devices. The web is full with advice on how to develop mobile web apps, here we highlight some useful advice.</p>
<h3>Setting the viewport width</h3>
<p>A useful trick for controlling the initial zoom level is to set the width of the browser viewport the head section of the HTML-page, using the viewport meta tag. The following sets the width to 320 pixels and also prevents the page from being zoomed:</p>
<pre class="mosync-code-xml">&lt;meta name="viewport" content="width=320, user-scalable=no"&gt;
</pre>
<p>Further reading:</p>
<ul>
<li><a href="http://www.quirksmode.org/mobile/viewports.html">A tale of two viewports  part one</a></li>
<li><a href="http://www.quirksmode.org/mobile/viewports2.html">A tale of two viewports  part two</a></li>
<li><a href="http://www.quirksmode.org/blog/archives/2010/04/a_pixel_is_not.html">A pixel is not a pixel is not a pixel</a></li>
<li><a href="http://developer.android.com/guide/webapps/targeting.html">Android: Targeting Screens from Web Apps</a></li>
<li><a href="https://developer.apple.com/library/safari/#documentation/appleapplications/reference/safariwebcontent/usingtheviewport/usingtheviewport.html">Safari Web Content Guide: Configuring the Viewport</a></li>
<li><a href="http://www.w3.org/TR/mwabp/#bp-viewport">W3C: Use Meta Viewport Element To Identify Desired Screen Size</a></li>
</ul>
<h3>Using em's as measurement unit</h3>
<p>Another trick is to use em's as the unit for page elements and font sizes. One em is equal to the size of the current font size, and thus scale between different screen sizes. For example, in your style sheet, you can use:</p>
<pre class="mosync-code-css">font-size: 1.4em;</pre>
<p>Search the web for mobile application development with HTML and CSS and you will find a vast source of information. Keep in mind, however, as HTML5/CSS evolve and new platforms enter the market, best practices for user interfade design and layout may be revised.</p>
<h2>Building and deploying your application</h2>
<p>The guide<a href="TEMPLATE_DOC_PATH/sdk/js/guides/quick-start/getting-started-html5-and-javascript/index.html"> Getting Started with HTML5 and JavaScript</a> shows you how to build and run HTML5 applications on various platforms, using the MoSync Eclipse IDE.</p>
<h2>Example programs</h2>
<p>MoSync SDK includes several HTML5 example programs. These programs illustrate different approaches to using HTML/JavaScript in MoSync applications:</p>
<ul>
<li><a href="TEMPLATE_DOC_PATH/sdk/js/examples/wormholedemo/index.html"><strong>WormholeDemo</strong></a> shows you how to build an app using a JavaScript UI library. The UI is in HTML/CSS, and the application logic is in JavaScript. This app uses the Wormhole C++ library and wormhole.js.</li>
<li><a href="TEMPLATE_DOC_PATH/sdk/js/examples/wormholenativeui/index.html"><strong>WormholeNativeUI</strong></a> shows you how to build an app that has a Native UI, using a JavaScript. The app uses the Wormhole C++ library and wormhole.js.</li>
<li><a href="TEMPLATE_DOC_PATH/sdk/js/examples/webviewlovesms/index.html"><strong>WebViewLoveSMS</strong></a> and <a href="TEMPLATE_DOC_PATH/sdk/js/examples/webviewtwitter/index.html"><strong>WebViewTwitter</strong></a> have HTML/CSS user interfaces, and show how to use the Wormhole C++ library to handle calls from JavaScript to C/C++. When you want to implement as much as possible of your app in HTML5/JavaScript, the WormholeDemo app is a better starting point than these apps. But if you wish to implement some of the application's functionality in C/C++, these apps are a good reference.</li>
<li><strong></strong><a href="TEMPLATE_DOC_PATH/sdk/js/examples/photogallery/index.html"><strong>PhotoGallery</strong></a> is a more advanced example app that uses a mixed UI composed of Native Tab screens and multiple WebViews. The code shows how to send messages between WebViews, and how to invoke custom code in C++.</li>
<li><a href="TEMPLATE_DOC_PATH/sdk/js/examples/nfcexample/index.html"><strong>NFCExample</strong></a> is an example that has the purpose of demonstrating NFC (Near Field Communication). It is a C++ app that has an HTML/CSS user interface. (NFC is currently available only on Android.)</li>
<li><a href="TEMPLATE_DOC_PATH/sdk/js/examples/webviewgeolocation/index.html"><strong>WebViewGeoLocation</strong></a> shows how to use a WebView at the most basic level. This example does not use any high-level libraries, and is provided as a reference for how low-level JavaScript to C/C++ communication mechanisms work.</li>
</ul>
<h2><a name="adding-an-application-icon"></a>Adding an application icon</h2>
<p>To make your app have an nice icon, you need to have two files in your project. One XML-file with a .icon extension, for example <strong>App.icon</strong>, and one SVG file with the actual icon image. If your SVG file is named <strong>Icon.svg</strong>, this is the content of App.icon:</p>
<pre class="mosync-code-xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;icon&gt;
    &lt;instance size="default" src="Icon.svg" /&gt;
&lt;/icon&gt;
</pre>
<p>Place the XML-file and the SVG-file in the top-level root directory of your project (same level as main.cpp).</p>
<p>To create a new XML-file, right-click on the project name in the Project Explorer in Eclipse, and select New/File. Name the file App.icon.</p>
<p>To create an SVG-file, use a drawing program and save the file in the MoSync project folder. Remember to right-click the project name and select Refresh (F5) to make the file be visible in Eclipse. You can also copy an existing SVG-file and paste it into the project by right-clicking the project folder and selecting Paste.</p>
<p>There are several programs available for creating <a href="TEMPLATE_DOC_PATH/sdk/tools/guides/ide/adding-application-icons/index.html">SVG-images</a>, for example the open-source drawing program <a href="http://inkscape.org/">Inkscape</a>.</p>
<p>When you rebuild the program in Eclipse, the icon will be added to the resulting application package.</p>
<p>More details can be found in the <a href="TEMPLATE_DOC_PATH/sdk/tools/guides/ide/adding-application-icons/index.html">Application Icons</a> guide.</p>
</body>
</html>
